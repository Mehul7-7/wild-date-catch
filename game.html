<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wild Date Minefield</title>
  <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      background: url('assets/bg.png') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Permanent Marker', cursive;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;   /* center vertically */
      min-height: 100vh;
      color: #fff;
      padding: 10px;
    }
    h1 {
      margin: 10px 0 5px;
      color: #ff4500;
      text-shadow: 2px 2px 4px #000;
      text-align: center;
    }
    #logo {
      max-width: 160px;
      margin: 10px auto;
      display: block;
    }
   #scoreBoard {
  font-size: 5vw;
  padding: 8px 15px;
  border-radius: 12px;
}

  #board {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 10px;
  width: 100vw;         /* full width */
  height: 100vw;        /* make it square to fill the screen width */
  max-width: 100vw;
  max-height: 100vh;    /* prevent overflow on smaller screens */
  margin: 2px auto;
}

.cell {
  width: 100%;
  height: 100%;
  aspect-ratio: 1/1;
  background: rgba(255,255,255,0.85);
  border: 3px solid #ff4500;
  border-radius: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 5vw;        /* font scales with screen */
  cursor: pointer;
  transition: transform 0.2s, background 0.3s;
  overflow: hidden;
}

.cell img {
  max-width: 90%;
  max-height: 90%;
}

.cell:hover {
  transform: scale(1.05);
}
    .cell.revealed {
      background: #fff;
      cursor: default;
    }
    #gameOverScreen {
      display: none;
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.9);
      color: #fff;
      padding: 25px;
      border-radius: 20px;
      text-align: center;
      z-index: 999;
      width: 85%;
      max-width: 400px;
    }
    #gameOverScreen button {
      margin-top: 15px;
      background: #ff4500;
      color: #fff;
      padding: 10px 25px;
      font-size: 18px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
    }
    #gameOverScreen button:hover { background: #ff6347; }
    .cta-btn {
      display: inline-block;
      margin-top: 12px;
      background: #ffd700;
      color: #000;
      padding: 10px 20px;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      text-decoration: none;
      transition: background 0.3s;
    }
    .cta-btn:hover {
      background: #ffea00;
    }
/* Mobile tweaks */
@media (max-width: 600px) {
  #board {
    gap: 6px;
    height: 100vw;   /* always fit screen width */
  }
  .cell {
    font-size: 5vw;  /* even bigger on smaller devices */
  }
  #scoreBoard {
    font-size: 5vw;
  }
}
  </style>
</head>
<body>

<img src="assets/logo.png" id="logo" alt="Wild Date Logo">
<h1>üç´ Wild Date Minefield üç´</h1>
<div id="scoreBoard">Score: 0</div>
<div id="board"></div>

<div id="gameOverScreen">
  <h2 id="gameMessage"></h2>
  <p>Your Score: <span id="finalScore"></span></p>
  <p style="color:#ff6347;">Choose Wild Date, not Junk! üí•</p>
  <button onclick="restartGame()">Play Again</button>
  <br>
  <a href="https://wilddate.in" target="_blank" class="cta-btn">Shop Wild Date</a>
</div>

<script>
const boardEl = document.getElementById("board");
const scoreBoard = document.getElementById("scoreBoard");
const gameOverScreen = document.getElementById("gameOverScreen");
const gameMessage = document.getElementById("gameMessage");
const finalScore = document.getElementById("finalScore");

let gridSize = 5;
let cells = [];
let score = 0;
let gameOver = false;

const productImgs = [
  "assets/ingredient1.png",
  "assets/ingredient2.png",
  "assets/ingredient3.png",
  "assets/ingredient4.png",
  "assets/ingredient5.png",
  "assets/ingredient6.png",
];

const junkImgs = [
  "assets/junk1.png",
  "assets/junk2.png",
  "assets/junk3.png",
];

function initBoard() {
  boardEl.innerHTML = "";
  cells = [];
  score = 0;
  gameOver = false;
  scoreBoard.innerText = "Score: " + score;
  gameOverScreen.style.display = "none";

  for (let i = 0; i < gridSize * gridSize; i++) {
    let cell = document.createElement("div");
    cell.classList.add("cell");
    cell.dataset.index = i;

    let rand = Math.random();
    if (rand < 0.25) {
      cell.dataset.type = "junk";
      cell.dataset.img = junkImgs[Math.floor(Math.random() * junkImgs.length)];
    } else {
      cell.dataset.type = "product";
      cell.dataset.img = productImgs[Math.floor(Math.random() * productImgs.length)];
    }

    cell.addEventListener("click", revealCell);
    boardEl.appendChild(cell);
    cells.push(cell);
  }
}

function revealCell(e) {
  if (gameOver) return;
  let cell = e.currentTarget;
  if (cell.classList.contains("revealed")) return;

  cell.classList.add("revealed");
  let img = document.createElement("img");
  img.src = cell.dataset.img;
  cell.appendChild(img);

  if (cell.dataset.type === "product") {
    score += 10;
    scoreBoard.innerText = "Score: " + score;
  } else {
    endGame(false);
  }

  let allSafe = cells.every(c => c.dataset.type === "junk" || c.classList.contains("revealed"));
  if (allSafe && !gameOver) endGame(true);
}

function endGame(won) {
  gameOver = true;
  finalScore.innerText = score;
  gameMessage.innerText = won ? "üéâ You Won Wild Dates!" : "üí• Junk got you!";
  gameOverScreen.style.display = "block";

  cells.forEach(c => {
    if (!c.classList.contains("revealed")) {
      c.classList.add("revealed");
      let img = document.createElement("img");
      img.src = c.dataset.img;
      c.appendChild(img);
    }
  });
}

function restartGame() {
  initBoard();
}

initBoard();
</script>

</body>
</html>

